<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Advanced Ratio Learning</title>

<!-- SOCIAL PREVIEW -->
<meta property="og:title" content="Advanced Ratio Learning">
<meta property="og:description" content="Watch the video, fill your details, then start the quiz.">
<meta property="og:image" content="https://gyoutrain-lab.github.io/production-promo1/assets/videos/AdvRatio.jpg">
<meta property="og:url" content="https://gyoutrain-lab.github.io/production-promo1/adv-ratio.html">
<meta name="twitter:card" content="summary_large_image">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:system-ui,sans-serif;
  background:#f4f8f6;
}
.wrap{
  max-width:900px;
  margin:auto;
  padding:16px;
}
h2{margin-top:0}
video{
  width:100%;
  border-radius:12px;
  background:#000;
}
input{
  width:100%;
  padding:12px;
  margin-top:10px;
  border-radius:10px;
  border:1px solid #ccc;
  font-size:15px;
}
button{
  width:100%;
  padding:14px;
  margin-top:14px;
  border:none;
  border-radius:12px;
  font-size:16px;
  font-weight:700;
  background:linear-gradient(135deg,#fbbc04,#f29900);
  cursor:pointer;
}
button:disabled{
  opacity:.5;
  cursor:not-allowed;
}
.note{
  font-size:13px;
  color:#666;
  margin-top:6px;
}
.hidden{display:none}
</style>
</head>

<body>
<div class="wrap">

  <h2>üìò Advanced Ratio</h2>
  <p>Please watch the video completely.</p>

  <video id="vid"
         controls
         playsinline
         poster="assets/videos/AdvRatio.jpg">
    <source src="assets/videos/AdvRatio.mp4" type="video/mp4">
  </video>

  <!-- FORM (TERKUNCI) -->
  <div id="form" class="hidden">
    <input id="name" placeholder="Your Name">
    <input id="wa" placeholder="WhatsApp Number">
  </div>

  <button id="go" disabled>
    Continue to Quiz
  </button>

  <div class="note">‚ö†Ô∏è Video must be completed to unlock</div>

</div>

<script>
const video = document.getElementById('vid');
const btn   = document.getElementById('go');
const form  = document.getElementById('form');
const nameI = document.getElementById('name');
const waI   = document.getElementById('wa');

const KEY = 'adv_ratio_done';

// jika sudah pernah selesai
if(localStorage.getItem(KEY)==='yes'){
  btn.disabled=false;
  form.classList.remove('hidden');
}

// setelah video selesai
video.addEventListener('ended', ()=>{
  localStorage.setItem(KEY,'yes');
  btn.disabled=false;
  form.classList.remove('hidden');
});

// klik lanjut
btn.onclick = ()=>{
  if(localStorage.getItem(KEY)!=='yes'){
    alert('Please complete the video first.');
    return;
  }
  if(!nameI.value.trim() || !waI.value.trim()){
    alert('Please fill your name and WhatsApp number.');
    return;
  }

  const url =
  "https://script.google.com/macros/s/AKfycbzJA7PaBSjYTWR9j2N2MHVQ7pDsHoo8eGRNQbAtEqpmpITREXkj6wx48TDDTb07gs8k/exec"
  + "?name=" + encodeURIComponent(nameI.value)
  + "&wa=" + encodeURIComponent(waI.value);

  window.location.href = url;
};
</script>

</body>
</html>
